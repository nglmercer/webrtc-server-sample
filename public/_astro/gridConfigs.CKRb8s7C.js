import{w as re,b as ue,T as ce}from"./runtime-dom.esm-bundler.Bg557htM.js";import{_ as Y}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as Q,c as V,o as C,P as k,j as q,n as J,r as h,e as p,a as m,t as W,h as ve,L as E,O as fe,b as P,F as B,Q as D,i as R,M as N,f as me}from"./runtime-core.esm-bundler.DFbp6Gf0.js";const ge=Q({__name:"VideoItem",props:{video:{},index:{},config:{},itemClasses:{},itemStyles:{},videoState:{}},emits:["click","mouseenter","mouseleave"],setup(v,{expose:u}){u();const t=v,i=h(!1);function x(){i.value=!i.value}const d=p(()=>t.itemClasses),n=p(()=>t.itemStyles),l=p(()=>t.videoState.isActive),a=p(()=>t.videoState.isFocused),c=p(()=>t.videoState.isMain),f={props:t,areControlsVisible:i,toggleControls:x,getItemClasses:d,getItemStyles:n,isActive:l,isFocused:a,isMain:c};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),pe={class:"default-video-content"},Ce={class:"video-label"},he={class:"video-controls-container"},Me=["title"],xe={class:"video-controls"},ye={class:"video-info"},Se={class:"flex items-center space-x-2"},Ve={class:"font-medium"},_e={class:"flex space-x-1"},we={key:0,class:"text-blue-400"},be={key:1,class:"text-yellow-400"};function Fe(v,u,t,i,x,d){return C(),V("div",{class:J(["video-item",i.getItemClasses]),style:q(i.getItemStyles),onClick:u[0]||(u[0]=n=>v.$emit("click",t.video,t.index)),onMouseenter:u[1]||(u[1]=n=>v.$emit("mouseenter",t.video,t.index)),onMouseleave:u[2]||(u[2]=n=>v.$emit("mouseleave",t.video,t.index))},[k(v.$slots,"video",{video:t.video,index:t.index,config:t.config,isActive:i.isActive,isFocused:i.isFocused,isMain:i.isMain},()=>[m("div",pe,[m("div",{class:"video-display",style:q({backgroundColor:t.video.color})},[m("span",Ce,W(t.video.id),1)],4),m("div",he,[m("button",{class:"controls-toggle-btn",onClick:re(i.toggleControls,["stop"]),title:i.areControlsVisible?"Ocultar controles":"Mostrar controles"},u[3]||(u[3]=[m("svg",{class:"controls-icon",viewBox:"0 0 24 24",fill:"currentColor"},[m("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2 2 .9 2 2 .9 2 2 2-.9 2-2zm0 2c6.63 0 12 5.37 12 12s-5.37 12-12-12-5.37-12-12-12zm-2 15l-2-2 7-7 7 7-2z"})],-1)]),8,Me),ve(ce,{name:"controls-fade"},{default:E(()=>[fe(m("div",xe,[m("div",ye,[m("div",Se,[m("span",Ve,W(t.video.id),1),m("div",_e,[i.isMain?(C(),V("span",we,"ðŸ‘‘")):P("",!0),i.isFocused?(C(),V("span",be,"â­")):P("",!0)])])])],512),[[ue,i.areControlsVisible]])]),_:1})])])])],38)}const ke=Y(ge,[["render",Fe],["__scopeId","data-v-cb029d45"]]),Ee=Q({__name:"UnifiedVideoGrid",props:{videos:{default:()=>["Local","User1","User2","User3"]},config:{}},setup(v,{expose:u}){const t=v,i=h(null),x=h([]),d=h(t.config.defaultMode||"auto"),n=h(""),l=h([]),a=h(null),c=h(null),f=h(!1),M=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#E11D48","#7C3AED","#059669","#DC2626","#2563EB","#CA8A04"],y=p(()=>t.videos.length),S=p(()=>t.config.colors||M),g=p(()=>Object.keys(t.config.modes||{})),O=p(()=>Object.keys(t.config.modes||{}).includes("transform")),K=p(()=>l.value.map((e,s)=>{const o={id:e,color:S.value[s%S.value.length],visible:!0},r=g.value.includes("focus"),w=g.value.includes("MainSidebar");return r?{...o,focused:a.value===e}:w?{...o,main:c.value===e}:o})),X=p(()=>{const e={minHeight:"400px",position:"relative"};return a.value?{...e,display:"block",padding:"0"}:g.value.includes("auto")?j(e):g.value.includes("equal")?H(e):g.value.includes("viewport")?L(e):e}),T=p(()=>({videoCount:y.value,currentMode:d.value,focusedVideoId:a.value,mainVideoId:c.value,perspectiveEnabled:f.value,technique:z()})),Z={setMode:_,shuffleVideos:I,togglePerspective:U,resetGrid:A,focusVideo:e=>{a.value=e},setMainVideo:e=>{c.value=e}};function b(){l.value=[...t.videos]}function _(e){d.value=e;const s=g.value;s.includes("focus")&&e==="focus"&&!a.value&&l.value.length>0?a.value=l.value[0]:s.includes("focus")&&e==="auto"&&(a.value=null),s.includes("MainSidebar")&&e==="MainSidebar"&&!c.value&&l.value.length>0?c.value=l.value[0]:s.includes("MainSidebar")&&e==="equal"&&(c.value=null)}function $(e,s){if(a.value===e.id)a.value=null,n.value&&(_(n.value),n.value="");else{a.value||(n.value=d.value),a.value=e.id;const o=l.value.indexOf(e.id);o>0&&(l.value.splice(o,1),l.value.unshift(e.id)),_("focus")}c.value=a.value}function I(){const e=[...l.value];for(let s=e.length-1;s>0;s--){const o=Math.floor(Math.random()*(s+1));[e[s],e[o]]=[e[o],e[s]]}l.value=e}function U(){O.value&&(f.value=!f.value)}function A(){b(),d.value=t.config.defaultMode||g.value[0]||"auto",a.value=null,c.value=null,f.value=!1}function j(e){const s=y.value;if(d.value==="focus"&&a.value&&s>1)return{...e,display:"grid",gridTemplateColumns:"2fr 1fr",gridTemplateRows:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px"};let o=1,r=1;return s===2?(o=2,r=1):s<=4?(o=2,r=2):s<=6?(o=3,r=2):s<=9?(o=3,r=3):s<=12?(o=4,r=3):s<=16?(o=4,r=4):(o=Math.ceil(Math.sqrt(s)),r=Math.ceil(s/o)),{...e,display:"grid",gridTemplateColumns:`repeat(${o}, 1fr)`,gridTemplateRows:`repeat(${r}, 1fr)`,gap:"12px"}}function H(e){return d.value==="focus"&&a.value?{...e,display:"block",padding:"0"}:d.value==="MainSidebar"?{...e,display:"flex",gap:"16px"}:d.value==="masonry"?{...e,display:"flex",flexWrap:"wrap",gap:"12px"}:{...e,display:"flex",flexWrap:"wrap",gap:"16px"}}function L(e){return d.value==="viewport"?{...e,display:"flex",flexWrap:"wrap",gap:"16px",justifyContent:"space-around",alignItems:"flex-start"}:d.value==="intersection"?{...e,display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"12px",maxHeight:"600px",overflowY:"auto"}:e}function ee(){const e=[`mode-${d.value}`];return f.value&&e.push("perspective-enabled"),e}function ie(e,s){const o=["video-item-base"],r=g.value;return r.includes("focus")&&d.value==="focus"&&e.focused&&o.push("focused-video"),r.includes("MainSidebar")&&d.value==="MainSidebar"&&e.main&&o.push("main-video"),r.includes("masonry")&&d.value==="masonry"&&o.push(`masonry-item-${s%3+1}`),o}function oe(e,s){const o={},r=g.value;if(r.includes("equal")&&d.value==="equal")o.flex="1 1 calc(50% - 8px)",o.minWidth="250px",o.minHeight="180px";else if(r.includes("MainSidebar")&&d.value==="MainSidebar")e.main?(o.flex="2",o.minHeight="300px"):(o.flex="0 0 200px",o.minHeight="120px");else if(r.includes("masonry")&&d.value==="masonry"){o.flex="1 1 calc(33.333% - 8px)",o.minWidth="200px";const w=["200px","150px","250px"];o.minHeight=w[s%3]}else if(r.includes("viewport")&&d.value==="viewport"){const w=window.innerWidth,de=window.innerHeight;o.width=w>768?"200px":"150px",o.height=de>600?"150px":"120px"}return o}function se(e,s){return{isActive:s===0,isFocused:e.focused||!1,isMain:e.main||!1}}function z(){const e=g.value;if(e.includes("auto")||e.includes("focus"))return"CSS Grid";if(e.includes("equal")||e.includes("MainSidebar")||e.includes("masonry"))return"Flexbox";if(e.includes("viewport")||e.includes("intersection"))switch(d.value){case"viewport":return"Viewport Units";case"intersection":return"Intersection Observer";default:return"Mixed"}return"Unknown"}function te(e,s){if(g.value.includes("viewport")&&d.value==="viewport"){const r=x.value[s];r&&(r.style.transform="translateY(-10px) scale(1.05)",r.style.transition="transform 0.3s ease")}}function ne(e,s){if(g.value.includes("viewport")&&d.value==="viewport"){const r=x.value[s];r&&(r.style.transform="")}}function le(e){return e*15%360}function ae(e){const s=[1,1.1,.9,1.05];return s[e%s.length]}N(()=>t.videos,()=>{b()},{immediate:!0}),N(()=>t.config,()=>{A()},{deep:!0}),me(()=>{b()}),u({setMode:_,shuffleVideos:I,focusVideo:e=>{a.value=e},setMainVideo:e=>{c.value=e},getState:()=>T.value});const G={props:t,gridContainer:i,videoItems:x,currentMode:d,previousMode:n,videoOrder:l,focusedVideoId:a,mainVideoId:c,perspectiveEnabled:f,defaultColors:M,videoCount:y,videoColors:S,availableModes:g,supportsPerspective:O,displayVideos:K,containerStyles:X,gridState:T,controlMethods:Z,initializeVideos:b,setMode:_,handleVideoClick:$,shuffleVideos:I,togglePerspective:U,resetGrid:A,getGridStyles:j,getFlexboxStyles:H,getMixedStyles:L,getContainerClasses:ee,getItemClasses:ie,getItemStyles:oe,getVideoState:se,getCurrentTechnique:z,handleMouseEnter:te,handleMouseLeave:ne,getVideoRotation:le,getVideoScale:ae,VideoItem:ke};return Object.defineProperty(G,"__isScriptSetup",{enumerable:!1,value:!0}),G}}),Ie={class:"unified-video-grid w-full h-full"},Ae={ref:"smallRow",class:"small-videos-row"};function Be(v,u,t,i,x,d){return C(),V("div",Ie,[m("div",{ref:"gridContainer",class:J(["video-grid-container w-full h-full",i.getContainerClasses()]),style:q(i.containerStyles)},[i.focusedVideoId?(C(),V(B,{key:0},[(C(),D(i.VideoItem,{video:i.displayVideos[0],key:i.displayVideos[0].id,index:0,config:t.config,itemClasses:i.getItemClasses(i.displayVideos[0],0),itemStyles:{width:"100%",height:"100%"},videoState:i.getVideoState(i.displayVideos[0],0),onClick:u[0]||(u[0]=n=>i.handleVideoClick(i.displayVideos[0],0)),onMouseenter:u[1]||(u[1]=n=>i.handleMouseEnter(i.displayVideos[0],0)),onMouseleave:u[2]||(u[2]=n=>i.handleMouseLeave(i.displayVideos[0],0))},{video:E(({video:n,index:l,config:a,isActive:c,isFocused:f,isMain:M})=>[k(v.$slots,"video",{video:n,index:l,config:a,isActive:c,isFocused:f,isMain:M},void 0,!0)]),_:3},8,["video","config","itemClasses","videoState"])),m("div",Ae,[(C(!0),V(B,null,R(i.displayVideos.slice(1),(n,l)=>(C(),D(i.VideoItem,{key:n.id,video:n,index:l+1,config:t.config,itemClasses:i.getItemClasses(n,l+1),itemStyles:{flex:"0 0 150px",height:"100%"},videoState:i.getVideoState(n,l+1),onClick:a=>i.handleVideoClick(n,l+1),onMouseenter:a=>i.handleMouseEnter(n,l+1),onMouseleave:a=>i.handleMouseLeave(n,l+1)},{video:E(({video:a,index:c,config:f,isActive:M,isFocused:y,isMain:S})=>[k(v.$slots,"video",{video:a,index:c,config:f,isActive:M,isFocused:y,isMain:S},void 0,!0)]),_:2},1032,["video","index","config","itemClasses","videoState","onClick","onMouseenter","onMouseleave"]))),128))],512)],64)):(C(!0),V(B,{key:1},R(i.displayVideos,(n,l)=>(C(),D(i.VideoItem,{key:n.id,video:n,index:l,config:t.config,itemClasses:i.getItemClasses(n,l),itemStyles:i.getItemStyles(n,l),videoState:i.getVideoState(n,l),onClick:a=>i.handleVideoClick(n,l),onMouseenter:a=>i.handleMouseEnter(n,l),onMouseleave:a=>i.handleMouseLeave(n,l)},{video:E(({video:a,index:c,config:f,isActive:M,isFocused:y,isMain:S})=>[k(v.$slots,"video",{video:a,index:c,config:f,isActive:M,isFocused:y,isMain:S},void 0,!0)]),_:2},1032,["video","index","config","itemClasses","itemStyles","videoState","onClick","onMouseenter","onMouseleave"]))),128))],6)])}const Te=Y(Ee,[["render",Be],["__scopeId","data-v-0025d21c"]]),Ue={modes:{equal:{},focus:{},MainSidebar:{},masonry:{}},colors:["#E11D48","#7C3AED","#059669","#DC2626","#2563EB","#CA8A04","#9333EA","#0891B2","#EA580C","#4338CA","#0D9488","#BE185D"],defaultMode:"masonry"},je={modes:{viewport:{},intersection:{}},colors:["#E74C3C","#3498DB","#2ECC71","#F39C12","#9B59B6","#1ABC9C","#34495E","#E67E22","#95A5A6","#F1C40F","#8E44AD","#16A085"],defaultMode:"viewport"};function F(v){const u={modes:{auto:{}},defaultMode:"auto"};return{...u,...v,modes:{...u.modes,...v.modes}}}F({modes:{auto:{},focus:{}}}),F({modes:{MainSidebar:{},equal:{}},defaultMode:"MainSidebar"}),F({modes:{viewport:{},intersection:{}}}),F({modes:{equal:{},MainSidebar:{}},colors:["#007AFF","#FF3B30","#34C759","#FF9500","#AF52DE","#FF2D92","#5AC8FA","#FFCC00"]});export{Te as U,Ue as f,je as m};
